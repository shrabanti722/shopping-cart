(this["webpackJsonpshopping-cart_"]=this["webpackJsonpshopping-cart_"]||[]).push([[0],{19:function(t,e,i){},38:function(t,e,i){"use strict";i.r(e);var s=i(0),o=i(1),c=i.n(o),a=i(12),n=i.n(a),l=(i(18),i(19),i(7),i(10)),r=i(3),d=i(4),p=i(2),h=i(6),u=i(5),m=function(t){Object(h.a)(i,t);var e=Object(u.a)(i);function i(t){var s;return Object(r.a)(this,i),(s=e.call(this,t)).state={typediscount:"fiction"===s.props.type?.15*s.props.price:0},s.onremove=s.onremove.bind(Object(p.a)(s)),s.click=s.click.bind(Object(p.a)(s)),s}return Object(d.a)(i,[{key:"onremove",value:function(){console.log(this.props.id),this.props.onRemoveProduct(this.props.id,this.props.name,this.props.qty),this.props.handleTotal(-this.props.price*this.props.qty,-this.props.discount/100*this.props.price*this.props.qty,-this.state.typediscount*this.props.qty)}},{key:"click",value:function(){console.log(this.props.id)}},{key:"render",value:function(){return Object(s.jsx)(c.a.Fragment,{children:Object(s.jsxs)("div",{onClick:this.click,className:"d-inline-flex flex-row",children:[Object(s.jsxs)("td",{className:"shadow-sm p-2 m-2 bg-white name",children:[Object(s.jsx)("img",{src:this.props.img_url,style:{width:"20px",height:"20px"}}),Object(s.jsx)("span",{className:"p-2",children:this.props.name}),Object(s.jsx)("span",{className:"float-right cross",onClick:this.onremove,children:" X"})]}),Object(s.jsxs)("td",{className:"d-inline-flex p-2",children:[Object(s.jsx)("i",{className:"bi bi-dash p-2 minus",onClick:this.props.subtract.bind(this,this.props.index),disabled:this.state.qty<1,children:Object(s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-dash",viewBox:"0 0 16 16",children:Object(s.jsx)("path",{fillRule:"evenodd",d:"M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"})})}),Object(s.jsx)("span",{className:"shadow-sm p-2 bg-white",children:this.props.qty}),Object(s.jsx)("span",{className:"p-2 plus",onClick:this.props.add.bind(this,this.props.index),children:"+"})]}),Object(s.jsxs)("td",{className:"p-2 m-2",children:["$",this.props.price]})]},this.props.id)})}}]),i}(c.a.Component),j=function(t){Object(h.a)(i,t);var e=Object(u.a)(i);function i(t){return Object(r.a)(this,i),e.call(this,t)}return Object(d.a)(i,[{key:"render",value:function(){return Object(s.jsxs)("div",{className:"container card shadow-sm",style:{width:"300px"},children:[Object(s.jsx)("h3",{className:"mt-2 mb-0",style:{fontSize:"14px",fontWeight:700},children:"Total"}),Object(s.jsxs)("h3",{className:"row",style:{fontWeight:400,fontSize:"14px"},children:[Object(s.jsxs)("span",{className:"col-6",children:["Items (",this.props.itemCount,")"]}),Object(s.jsxs)("span",{className:"col-6 text-right float-right",children:[": $",this.props.actual.toFixed(2)]})]}),Object(s.jsxs)("h3",{className:"row",style:{fontWeight:400,fontSize:"14px"},children:[Object(s.jsx)("span",{className:"col-6",children:"Discount"}),Object(s.jsxs)("span",{className:"col-6 text-right float-right",children:[": -$",this.props.discount.toFixed(2)]})]}),Object(s.jsxs)("h3",{className:"row",style:{fontWeight:400,fontSize:"14px"},children:[Object(s.jsx)("span",{className:"col-6",children:"Type discount"}),Object(s.jsxs)("span",{className:"col-6 text-right float-right",children:[": -$",this.props.typediscount.toFixed(2)]})]}),Object(s.jsxs)("h3",{className:"row card-body mb-0",style:{borderTop:"1px solid #ddd",backgroundColor:"#F6F6F6",fontSize:"14px"},children:[Object(s.jsx)("span",{className:"col-6",children:"Order Total"}),Object(s.jsxs)("span",{className:"col-6 text-right float-right",children:[": $",this.props.total.toFixed(2)]})]})]})}}]),i}(c.a.Component),g=i(8),b=i.n(g),y=(i(36),i(37),[{id:9090,name:"Item1",price:200,discount:10,type:"fiction",img_url:"https://place-hold.it/40.jpg"},{id:9091,name:"Item2",price:250,discount:15,type:"literature",img_url:"https://place-hold.it/40.jpg"},{id:9092,name:"Item3",price:320,discount:5,type:"literature",img_url:"https://place-hold.it/40.jpg"},{id:9093,name:"Item4",price:290,discount:0,type:"thriller",img_url:"https://place-hold.it/40.jpg"},{id:9094,name:"Item5",price:500,discount:25,type:"thriller",img_url:"https://place-hold.it/40.jpg"},{id:9095,name:"Item6",price:150,discount:5,type:"literature",img_url:"https://place-hold.it/40.jpg"},{id:9096,name:"Item7",price:700,discount:22,type:"literature",img_url:"https://place-hold.it/40.jpg"},{id:9097,name:"Item8",price:350,discount:18,type:"fiction",img_url:"https://place-hold.it/40.jpg"}]),x=function(t){Object(h.a)(i,t);var e=Object(u.a)(i);function i(t){var s;return Object(r.a)(this,i),(s=e.call(this,t)).onReload=function(){for(var t=y,e=0,i=0,o=0,c=0,a=0;a<t.length;a++)t[a].qty=1,y[a].qty=1,e+=t[a].price,c++,y[a].typediscount="fiction"===y[a].type?.15*y[a].price:0,t[a].typediscount="fiction"===t[a].type?.15*t[a].price:0,i+=t[a].discount/100*t[a].price,o+=t[a].typediscount,console.log(s.state.productList);console.log("initial total = "+e+" initial discount = "+i),s.setState({productList:t,itemCount:c,actual:e,total:e-i-o,discount:i,typediscount:o},(function(){for(var t in s.state)window.localStorage.setItem(t,JSON.stringify(s.state[t]));console.log("localstorage totalcalculate= "+window.localStorage.total)}))},s.showToast=function(t){console.log("working!! "+t),g.store.addNotification({title:"Done!!",message:"You deleted "+t,type:"info",insert:"top",container:"top-right",animationIn:["animate__animated","animate__fadeIn"],animationOut:["animate__animated","animate__fadeOut"],dismiss:{duration:2e3,onScreen:!0,pauseOnHover:!0},slidingExit:{duration:800,timingFunction:"ease-out",delay:0},touchSlidingExit:{swipe:{duration:400,timingFunction:"ease-out",delay:0},fade:{duration:400,timingFunction:"ease-out",delay:0}}})},s.state={itemCount:0,total:0,actual:0,discount:0,typediscount:0,productList:[{id:9090,name:"Item1",price:200,discount:10,type:"fiction",img_url:"https://place-hold.it/40.jpg"},{id:9091,name:"Item2",price:250,discount:15,type:"literature",img_url:"https://place-hold.it/40.jpg"},{id:9092,name:"Item3",price:320,discount:5,type:"literature",img_url:"https://place-hold.it/40.jpg"},{id:9093,name:"Item4",price:290,discount:0,type:"thriller",img_url:"https://place-hold.it/40.jpg"},{id:9094,name:"Item5",price:500,discount:25,type:"thriller",img_url:"https://place-hold.it/40.jpg"},{id:9095,name:"Item6",price:150,discount:5,type:"literature",img_url:"https://place-hold.it/40.jpg"},{id:9096,name:"Item7",price:700,discount:22,type:"literature",img_url:"https://place-hold.it/40.jpg"},{id:9097,name:"Item8",price:350,discount:18,type:"fiction",img_url:"https://place-hold.it/40.jpg"}]},s.calculateTotal=s.calculateTotal.bind(Object(p.a)(s)),s.onRemoveProduct=s.onRemoveProduct.bind(Object(p.a)(s)),s.add=s.add.bind(Object(p.a)(s)),s.subtract=s.subtract.bind(Object(p.a)(s)),s.onReload=s.onReload.bind(Object(p.a)(s)),s.hydrateStateWithLocalStorage=s.hydrateStateWithLocalStorage.bind(Object(p.a)(s)),s.showToast=s.showToast.bind(Object(p.a)(s)),s}return Object(d.a)(i,[{key:"hydrateStateWithLocalStorage",value:function(){var t=0;for(var e in this.state)if(window.localStorage.hasOwnProperty(e)){t=1;var i=window.localStorage.getItem(e);try{i=JSON.parse(i),console.log("before"),this.setState(Object(l.a)({},e,i)),console.log("key= "+e+" value= "+i+" after")}catch(s){this.setState(Object(l.a)({},e,i))}}return 1===t}},{key:"componentDidMount",value:function(){var t=this,e=this.hydrateStateWithLocalStorage();if(console.log("s is "+e),!e){for(var i=y,s=0,o=0,c=0,a=0,n=0;n<i.length;n++)i[n].qty=1,y[n].qty=1,o+=i[n].price,s++,y[n].typediscount="fiction"===y[n].type?.15*y[n].price:0,i[n].typediscount="fiction"===i[n].type?.15*i[n].price:0,c+=i[n].discount/100*i[n].price,a+=i[n].typediscount;console.log("initial total = "+o+" initial discount = "+c),this.setState({productList:i,itemCount:s,actual:o,total:o-c-a,discount:c,typediscount:a},(function(){for(var e in t.state)window.localStorage.setItem(e,JSON.stringify(t.state[e]));console.log("localstorage totalcalculate= "+window.localStorage.total)}))}}},{key:"componentWillUnmount",value:function(){window.localStorage.clear()}},{key:"add",value:function(t){var e=this.state.productList;console.log(e[t].discount),e[t].qty++,this.state.itemCount++,console.log(e[t].price),this.setState({productList:e}),this.calculateTotal(e[t].price,e[t].discount/100*e[t].price,e[t].typediscount)}},{key:"subtract",value:function(t){if(this.state.productList[t].qty>0){var e=this.state.productList;e[t].qty--,this.state.itemCount--,this.setState({productList:e}),this.calculateTotal(-e[t].price,-e[t].discount/100*e[t].price,-e[t].typediscount)}}},{key:"onRemoveProduct",value:function(t,e,i){console.log(t),this.showToast(e);var s=this.state.itemCount-i;this.setState((function(e){return{itemCount:s,productList:e.productList.filter((function(e){return e.id!==t}))}})),console.log(this.state.productList.length)}},{key:"calculateTotal",value:function(t,e,i){var s=this,o=this.state.total+t-e-i,c=this.state.actual+t;console.log("total= "+o),this.setState({total:o,actual:c,discount:this.state.discount+e,typediscount:this.state.typediscount+i},(function(){var t=s.state;for(var e in s.state)window.localStorage.setItem(e,JSON.stringify(s.state[e]));console.log("localstorage totalcalculate= "+window.localStorage.total+" "+t.total)}))}},{key:"render",value:function(){var t=this;if(0===this.state.productList.length)return Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"mt-1",style:{width:"100%",height:"35px",backgroundColor:"#e8e6e6"}}),Object(s.jsx)("div",{className:"container",children:Object(s.jsx)("button",{className:"btn btn-primary",onClick:this.onReload.bind(this),style:{width:"100%",marginTop:"10px"},children:"Reload"})})]});var e=this.state.productList.map((function(e,i){return Object(s.jsx)("div",{className:"container",children:Object(s.jsx)(m,{name:e.name,img_url:e.img_url,id:e.id,price:e.price,type:e.type,qty:e.qty,add:t.add,index:i,subtract:t.subtract,discount:e.discount,onRemoveProduct:t.onRemoveProduct,handleTotal:t.calculateTotal},e.id)})}));return Object(s.jsxs)(c.a.Fragment,{children:[Object(s.jsx)(b.a,{}),Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"mt-1",style:{width:"128%",height:"35px",backgroundColor:"#e8e6e6"}}),Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"mt-md-5 col-md-2 order-md-2",children:Object(s.jsx)(j,{total:this.state.total,itemCount:this.state.itemCount,actual:this.state.actual,discount:this.state.discount,typediscount:this.state.typediscount})}),Object(s.jsxs)("div",{className:"p-2",children:[Object(s.jsxs)("div",{style:{marginBottom:"10px"},children:[Object(s.jsx)("i",{className:"bi bi-chevron-left",style:{fontSize:"25px",marginLeft:"10px",marginRight:"3px"},children:Object(s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-chevron-left",viewBox:"0 0 16 16",children:Object(s.jsx)("path",{fillRule:"evenodd",d:"M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"})})}),Object(s.jsx)("span",{style:{fontSize:"20px",fontWeight:400},children:"Order Summary"})]}),Object(s.jsxs)("table",{className:"table borderless",children:[Object(s.jsx)("div",{className:"container",children:Object(s.jsx)("thead",{className:"pl-3 border-top",children:Object(s.jsxs)("tr",{children:[Object(s.jsxs)("th",{className:"item",style:{fontWeight:400},children:["Items(",this.state.itemCount,")"]}),Object(s.jsx)("th",{className:"qty",style:{fontWeight:400},children:"Qty"}),Object(s.jsx)("th",{style:{fontWeight:400},children:"Price"})]})})}),Object(s.jsx)("div",{className:"col-md-2 order-md-1",children:Object(s.jsx)("tbody",{children:Object(s.jsx)("tr",{children:e})})})]})]})]})]})]})}}]),i}(c.a.Component);var f=function(){return Object(s.jsx)("div",{className:"App",children:Object(s.jsx)(x,{})})},O=function(t){t&&t instanceof Function&&i.e(3).then(i.bind(null,39)).then((function(e){var i=e.getCLS,s=e.getFID,o=e.getFCP,c=e.getLCP,a=e.getTTFB;i(t),s(t),o(t),c(t),a(t)}))};n.a.render(Object(s.jsx)(c.a.StrictMode,{children:Object(s.jsx)(f,{})}),document.getElementById("root")),O()},7:function(t,e,i){}},[[38,1,2]]]);
//# sourceMappingURL=main.c218ca9c.chunk.js.map